[gd_scene load_steps=17 format=3 uid="uid://dl5qpr4ysod88"]

[ext_resource type="Script" path="res://scripts/main.gd" id="1_dtp0f"]
[ext_resource type="Texture2D" uid="uid://cm5m7nr7dugjd" path="res://assets/textures/grids/Purple/texture_09.png" id="3_iaqv6"]
[ext_resource type="Texture2D" uid="uid://c8arnlq67qi7" path="res://assets/textures/grids/Dark/texture_05.png" id="5_re1gj"]
[ext_resource type="PackedScene" uid="uid://d1a4px4hdm364" path="res://scenes/player.tscn" id="6_bbaiu"]
[ext_resource type="Resource" uid="uid://bafm4ninl8gno" path="res://inventory/test_inventory.tres" id="7_pth7i"]
[ext_resource type="Resource" uid="uid://c7m61twqm3v4p" path="res://resources/test_interaction_manager.tres" id="8_5fy1a"]
[ext_resource type="Script" path="res://inventory/scripts/InventoryInterface.gd" id="9_se21a"]
[ext_resource type="PackedScene" uid="uid://cuuy5suppc24a" path="res://inventory/scenes/inventory.tscn" id="10_aooqk"]
[ext_resource type="PackedScene" uid="uid://n5dc7p2v18kr" path="res://inventory/scenes/slot.tscn" id="11_5ykba"]
[ext_resource type="PackedScene" uid="uid://duq5y7kindbmh" path="res://scenes/enemies/enemy.tscn" id="13_rmd5p"]

[sub_resource type="NavigationMesh" id="NavigationMesh_urnwq"]
vertices = PackedVector3Array(4.81067, 0.65, -2.18795, 6.56067, 0.65, -2.43795, 8.31067, 0.65, -4.68795, 8.81067, 0.65, -17.938, 7.31067, 0.65, -18.938, 1.06067, 0.65, -20.188, -18.9393, 0.65, -7.43795, -20.1893, 0.65, -1.18795, -20.1893, 0.65, 1.06205, -0.439329, 0.65, 20.312, 6.81067, 0.65, 19.062, 8.56067, 0.65, 18.062, 1.06067, 0.65, -20.188, -1.18933, 0.65, -20.188, -8.43933, 0.65, -18.438, 8.56067, 0.65, 18.062, 7.06067, 0.65, 6.56205, 5.56067, 0.65, 6.56205, 8.56067, 0.65, 18.062, 5.56067, 0.65, 6.56205, 5.06067, 0.65, 5.06205, -13.9393, 0.65, 14.812, -7.93933, 0.65, 18.812, -0.439329, 0.65, 20.312, -20.1893, 0.65, 1.06205, -18.6893, 0.65, 8.06205, -13.9393, 0.65, 14.812, -8.43933, 0.65, -18.438, -14.4393, 0.65, -14.438, -18.9393, 0.65, -7.43795, -0.439329, 0.65, 20.312, 8.56067, 0.65, 18.062, 5.06067, 0.65, 5.06205, 4.81067, 0.65, -2.18795, 8.31067, 0.65, -4.68795, 8.81067, 0.65, -17.938, 8.81067, 0.65, -17.938, 1.06067, 0.65, -20.188, -8.43933, 0.65, -18.438, 4.81067, 0.65, -2.18795, 8.81067, 0.65, -17.938, -8.43933, 0.65, -18.438, -13.9393, 0.65, 14.812, -0.439329, 0.65, 20.312, 5.06067, 0.65, 5.06205, -8.43933, 0.65, -18.438, -18.9393, 0.65, -7.43795, -20.1893, 0.65, 1.06205, 4.81067, 0.65, -2.18795, -8.43933, 0.65, -18.438, -20.1893, 0.65, 1.06205, 4.81067, 0.65, -2.18795, -20.1893, 0.65, 1.06205, -13.9393, 0.65, 14.812, 5.06067, 0.65, 5.06205, 4.81067, 0.65, -2.18795, -13.9393, 0.65, 14.812, 8.31067, 0.65, -4.68795, 17.8107, 0.65, -8.93795, 14.0607, 0.65, -14.688, 8.31067, 0.65, -4.68795, 14.0607, 0.65, -14.688, 8.81067, 0.65, -17.938, 8.31067, 0.65, -4.68795, 6.56067, 0.65, -2.43795, 7.06067, 0.65, -2.18795, 8.31067, 0.65, -4.68795, 7.06067, 0.65, -2.18795, 7.06067, 0.65, -1.18795, 19.8107, 0.65, -1.93795, 18.8107, 0.65, -7.93795, 17.8107, 0.65, -8.93795, 8.31067, 0.65, -4.68795, 7.06067, 0.65, -1.18795, 19.8107, 0.65, -1.93795, 8.31067, 0.65, -4.68795, 19.8107, 0.65, -1.93795, 17.8107, 0.65, -8.93795, 19.0607, 0.65, 5.81205, 20.3107, 0.65, 0.56205, 19.8107, 0.65, -1.93795, 7.06067, 0.65, -1.18795, 7.56067, 0.65, 5.81205, 19.0607, 0.65, 5.81205, 7.06067, 0.65, -1.18795, 19.0607, 0.65, 5.81205, 19.8107, 0.65, -1.93795, 14.5607, 0.65, 14.312, 18.5607, 0.65, 8.31205, 19.0607, 0.65, 5.81205, 7.06067, 0.65, 6.56205, 8.56067, 0.65, 18.062, 14.5607, 0.65, 14.312, 14.5607, 0.65, 14.312, 19.0607, 0.65, 5.81205, 7.56067, 0.65, 5.81205, 7.06067, 0.65, 6.56205, 14.5607, 0.65, 14.312, 7.56067, 0.65, 5.81205)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(3, 5, 4), PackedInt32Array(8, 7, 6), PackedInt32Array(9, 11, 10), PackedInt32Array(14, 13, 12), PackedInt32Array(17, 16, 15), PackedInt32Array(20, 19, 18), PackedInt32Array(23, 22, 21), PackedInt32Array(26, 25, 24), PackedInt32Array(29, 28, 27), PackedInt32Array(32, 31, 30), PackedInt32Array(35, 34, 33), PackedInt32Array(38, 37, 36), PackedInt32Array(41, 40, 39), PackedInt32Array(44, 43, 42), PackedInt32Array(47, 46, 45), PackedInt32Array(50, 49, 48), PackedInt32Array(53, 52, 51), PackedInt32Array(56, 55, 54), PackedInt32Array(59, 58, 57), PackedInt32Array(62, 61, 60), PackedInt32Array(65, 64, 63), PackedInt32Array(68, 67, 66), PackedInt32Array(71, 70, 69), PackedInt32Array(74, 73, 72), PackedInt32Array(77, 76, 75), PackedInt32Array(80, 79, 78), PackedInt32Array(83, 82, 81), PackedInt32Array(86, 85, 84), PackedInt32Array(89, 88, 87), PackedInt32Array(92, 91, 90), PackedInt32Array(95, 94, 93), PackedInt32Array(98, 97, 96)]
agent_height = 1.4
agent_max_climb = 0.2
vertices_per_polygon = 3.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_s4d52"]
albedo_texture = ExtResource("5_re1gj")
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fywn7"]
albedo_texture = ExtResource("3_iaqv6")
uv1_triplanar = true

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_txvjt"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_oeqbv"]
sky_material = SubResource("ProceduralSkyMaterial_txvjt")

[sub_resource type="Environment" id="Environment_hyx3i"]
background_mode = 2
sky = SubResource("Sky_oeqbv")
tonemap_mode = 2
sdfgi_enabled = true
glow_enabled = true
fog_enabled = true
fog_light_color = Color(0.635294, 0.709804, 0.745098, 1)
fog_density = 0.005

[node name="world" type="Node3D"]
script = ExtResource("1_dtp0f")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_urnwq")

[node name="map" type="Node3D" parent="NavigationRegion3D"]

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="NavigationRegion3D/map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000330687, -0.1, 0.00104856)
material_override = SubResource("StandardMaterial3D_s4d52")
use_collision = true
collision_mask = 0
radius = 20.689
height = 0.5
sides = 16

[node name="CSGBox3D3" type="CSGBox3D" parent="NavigationRegion3D/map"]
transform = Transform3D(0.998834, -0.000209728, 0.0482842, 0.000210086, 1, -2.32022e-06, -0.0482842, 1.24818e-05, 0.998834, 6.18, 1.1, 2.059)
material_override = SubResource("StandardMaterial3D_fywn7")
use_collision = true
collision_mask = 0
size = Vector3(1, 2, 7.824)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0.121918, 0.30203, 0.94547, -0.484912, 0.849279, -0.208773, 0, 4.79416, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_hyx3i")

[node name="player" parent="." instance=ExtResource("6_bbaiu")]
transform = Transform3D(-0.741695, 0, 0.670737, 0, 1, 0, -0.670737, 0, -0.741695, 9.6415, 0, -9.06836)
inventory_data = ExtResource("7_pth7i")
interaction_manager = ExtResource("8_5fy1a")

[node name="UI" type="CanvasLayer" parent="."]

[node name="InventoryInterface" type="Control" parent="UI"]
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("9_se21a")
metadata/_edit_use_anchors_ = true

[node name="PlayerInventory" parent="UI/InventoryInterface" instance=ExtResource("10_aooqk")]
layout_mode = 1
offset_right = 16.0
offset_bottom = 16.0

[node name="ExternalInventory" parent="UI/InventoryInterface" instance=ExtResource("10_aooqk")]
visible = false
layout_mode = 0
offset_left = 697.0
offset_top = 257.0
offset_right = 737.0
offset_bottom = 297.0

[node name="GrabbedSlot" parent="UI/InventoryInterface" instance=ExtResource("11_5ykba")]
visible = false
modulate = Color(1, 1, 1, 0.52549)
self_modulate = Color(1, 1, 1, 0)
layout_mode = 0
offset_right = 64.0
offset_bottom = 64.0

[node name="enemy" parent="." instance=ExtResource("13_rmd5p")]
transform = Transform3D(0.770936, 0, -0.636913, 0, 1, 0, 0.636913, 0, 0.770936, 6.211, 0, -4.612)

[node name="target" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.36956, 0, 1.71733)

[connection signal="drop_slot_data" from="UI/InventoryInterface" to="." method="_on_inventory_interface_drop_slot_data"]
[connection signal="gui_input" from="UI/InventoryInterface" to="UI/InventoryInterface" method="_on_gui_input"]
[connection signal="visibility_changed" from="UI/InventoryInterface" to="UI/InventoryInterface" method="_on_visibility_changed"]
